# Migration `20201029082256-initial`

This migration has been generated by Tuvshinbayar Tuvhshinzul at 10/29/2020, 4:22:56 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `oAuthClient` (
`id` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`secret` varchar(191)  NOT NULL ,
`refreshTokenLifetime` int  NOT NULL DEFAULT 43200,
`accessTokenLifetime` int  NOT NULL DEFAULT 60,
`idTokenLifetime` int  NOT NULL DEFAULT 5,
`isTrusted` boolean  NOT NULL DEFAULT false,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `oAuthClient.name_unique`(`name`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthScope` (
`id` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`description` varchar(191)  ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthClientScope` (
`oAuthClientId` varchar(191)  NOT NULL ,
`oAuthScopeId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`oAuthClientId`,`oAuthScopeId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthClientGrant` (
`oAuthClientId` varchar(191)  NOT NULL ,
`oAuthGrantId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`oAuthClientId`,`oAuthGrantId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthGrant` (
`id` varchar(191)  NOT NULL ,
`grantType` ENUM('AUTHORIZATION_CODE', 'PASSWORD', 'REFRESH_TOKEN', 'CLIENT_CREDENTIALS', 'EXTENSION')  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthRedirectURI` (
`id` varchar(191)  NOT NULL ,
`oAuthClientId` varchar(191)  NOT NULL ,
`url` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthJavascriptOrigin` (
`id` varchar(191)  NOT NULL ,
`oAuthClientId` varchar(191)  NOT NULL ,
`uri` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthResourceServer` (
`id` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`identifier` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `oAuthResourceServer.identifier_unique`(`identifier`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthCustomScope` (
`id` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`description` varchar(191)  ,
`oAuthResourceServerId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthAccessTokenScope` (
`oAuthAccessTokenId` varchar(191)  NOT NULL ,
`oAuthScopeId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`oAuthScopeId`,`oAuthAccessTokenId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthAccessToken` (
`id` varchar(191)  NOT NULL ,
`accessToken` varchar(191)  NOT NULL ,
`expirationDate` datetime(3)  NOT NULL ,
`userId` varchar(191)  ,
`oAuthClientId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `oAuthAccessToken.accessToken_oAuthClientId_unique`(`accessToken`,
`oAuthClientId`),
UNIQUE INDEX `oAuthAccessToken.userId_oAuthClientId_unique`(`userId`,
`oAuthClientId`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthRefreshTokenScope` (
`oAuthRefreshTokenId` varchar(191)  NOT NULL ,
`oAuthScopeId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`oAuthRefreshTokenId`,`oAuthScopeId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthRefreshToken` (
`id` varchar(191)  NOT NULL ,
`refreshToken` varchar(191)  NOT NULL ,
`expirationDate` datetime(3)  NOT NULL ,
`userId` varchar(191)  ,
`oAuthClientId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `oAuthRefreshToken.refreshToken_oAuthClientId_unique`(`refreshToken`,
`oAuthClientId`),
UNIQUE INDEX `oAuthRefreshToken.userId_oAuthClientId_unique`(`userId`,
`oAuthClientId`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthAuthorizationCodeScope` (
`oAuthAuthorizationCodeId` varchar(191)  NOT NULL ,
`oAuthScopeId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`oAuthAuthorizationCodeId`,`oAuthScopeId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `oAuthAuthorizationCode` (
`id` varchar(191)  NOT NULL ,
`code` varchar(191)  NOT NULL ,
`expirationDate` datetime(3)  NOT NULL ,
`redirectURI` varchar(191)  NOT NULL ,
`userId` varchar(191)  NOT NULL ,
`oAuthClientId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `oAuthAuthorizationCode.code_oAuthClientId_unique`(`code`,
`oAuthClientId`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Group` (
`id` varchar(191)  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`description` varchar(191)  ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `UserGroup` (
`systemUserId` varchar(191)  NOT NULL ,
`systemGroupId` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
PRIMARY KEY (`systemUserId`,`systemGroupId`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `User` (
`id` varchar(191)  NOT NULL ,
`email` varchar(191)  NOT NULL ,
`username` varchar(191)  NOT NULL ,
`email_verified` boolean  NOT NULL DEFAULT false,
`email_verified_at` datetime(3)  ,
`isDisabled` boolean  NOT NULL DEFAULT false,
`password` varchar(191)  NOT NULL ,
`role` ENUM('SUPER_ADMIN', 'ADMIN', 'DEVELOPER', 'USER')  NOT NULL DEFAULT 'USER',
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `User.email_unique`(`email`),
UNIQUE INDEX `User.username_unique`(`username`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `Profile` (
`id` varchar(191)  NOT NULL ,
`userId` varchar(191)  NOT NULL ,
`firstName` varchar(191)  DEFAULT '',
`lastName` varchar(191)  DEFAULT '',
`displayName` varchar(191)  ,
`birthdate` datetime(3)  ,
`gender` ENUM('FEMALE', 'MALE', 'OTHER')  ,
`mobileNumber` varchar(191)  ,
`image` varchar(191)  DEFAULT '',
`address1` varchar(191)  ,
`address2` varchar(191)  ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
UNIQUE INDEX `Profile_userId_unique`(`userId`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `PasswordReset` (
`id` varchar(191)  NOT NULL ,
`userId` varchar(191)  NOT NULL ,
`token` varchar(191)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `UserDevice` (
`id` varchar(191)  NOT NULL ,
`userId` varchar(191)  NOT NULL ,
`deviceKey` varchar(191)  NOT NULL ,
`name` varchar(191)  ,
`lastIP` varchar(191)  NOT NULL ,
`isRemembered` boolean  NOT NULL DEFAULT false,
`SDK` varchar(191)  ,
`lastSeen` datetime(3)  NOT NULL ,
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
`updatedAt` datetime(3)  NOT NULL ,
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `oAuthClientScope` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthClientScope` ADD FOREIGN KEY (`oAuthScopeId`) REFERENCES `oAuthScope`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthClientGrant` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthClientGrant` ADD FOREIGN KEY (`oAuthGrantId`) REFERENCES `oAuthGrant`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthRedirectURI` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthJavascriptOrigin` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthCustomScope` ADD FOREIGN KEY (`oAuthResourceServerId`) REFERENCES `oAuthResourceServer`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAccessTokenScope` ADD FOREIGN KEY (`oAuthAccessTokenId`) REFERENCES `oAuthAccessToken`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAccessTokenScope` ADD FOREIGN KEY (`oAuthScopeId`) REFERENCES `oAuthScope`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAccessToken` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `oAuthAccessToken` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthRefreshTokenScope` ADD FOREIGN KEY (`oAuthRefreshTokenId`) REFERENCES `oAuthRefreshToken`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthRefreshTokenScope` ADD FOREIGN KEY (`oAuthScopeId`) REFERENCES `oAuthScope`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthRefreshToken` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `oAuthRefreshToken` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAuthorizationCodeScope` ADD FOREIGN KEY (`oAuthAuthorizationCodeId`) REFERENCES `oAuthAuthorizationCode`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAuthorizationCodeScope` ADD FOREIGN KEY (`oAuthScopeId`) REFERENCES `oAuthScope`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAuthorizationCode` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `oAuthAuthorizationCode` ADD FOREIGN KEY (`oAuthClientId`) REFERENCES `oAuthClient`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `UserGroup` ADD FOREIGN KEY (`systemUserId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `UserGroup` ADD FOREIGN KEY (`systemGroupId`) REFERENCES `Group`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `Profile` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `PasswordReset` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `UserDevice` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201029082256-initial
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,288 @@
+// This is your Prisma schema file,
+// learn more about it in the docs https//pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+generator client {
+  provider        = "prisma-client-js"
+  previewFeatures = ["transactionApi", "connectOrCreate"]
+}
+
+enum GrantType {
+  AUTHORIZATION_CODE
+  PASSWORD
+  REFRESH_TOKEN
+  CLIENT_CREDENTIALS
+  EXTENSION
+}
+
+model oAuthClient {
+  id                   String                   @id @default(uuid())
+  name                 String                   @unique
+  secret               String                   @default(cuid())
+  grants               oAuthClientGrant[]
+  redirectUris         oAuthRedirectURI[]
+  javascriptOrigins    oAuthJavascriptOrigin[]
+  scopes               oAuthClientScope[]
+  accessTokens         oAuthAccessToken[]
+  authorizationCodes   oAuthAuthorizationCode[]
+  refreshTokens        oAuthRefreshToken[]
+  refreshTokenLifetime Int                      @default(43200)
+  accessTokenLifetime  Int                      @default(60)
+  idTokenLifetime      Int                      @default(5)
+  isTrusted            Boolean                  @default(false)
+  createdAt            DateTime                 @default(now())
+  updatedAt            DateTime                 @updatedAt
+}
+
+model oAuthScope {
+  id                 String                        @id @default(uuid())
+  name               String
+  description        String?
+  clients            oAuthClientScope[]
+  accessTokens       oAuthAccessTokenScope[]
+  authorizationCodes oAuthAuthorizationCodeScope[]
+  refreshTokenScope  oAuthRefreshTokenScope[]
+  createdAt          DateTime                      @default(now())
+  updatedAt          DateTime                      @updatedAt
+}
+
+model oAuthClientScope {
+  client        oAuthClient @relation(fields: [oAuthClientId], references: [id])
+  scope         oAuthScope  @relation(fields: [oAuthScopeId], references: [id])
+  oAuthClientId String
+  oAuthScopeId  String
+  createdAt     DateTime    @default(now())
+
+  @@id([oAuthClientId, oAuthScopeId])
+}
+
+model oAuthClientGrant {
+  client        oAuthClient @relation(fields: [oAuthClientId], references: [id])
+  grant         oAuthGrant  @relation(fields: [oAuthGrantId], references: [id])
+  oAuthClientId String
+  oAuthGrantId  String
+  createdAt     DateTime    @default(now())
+
+  @@id([oAuthClientId, oAuthGrantId])
+}
+
+model oAuthGrant {
+  id        String             @id @default(uuid())
+  grantType GrantType
+  clients   oAuthClientGrant[]
+  createdAt DateTime           @default(now())
+  updatedAt DateTime           @updatedAt
+}
+
+model oAuthRedirectURI {
+  id            String      @id @default(uuid())
+  client        oAuthClient @relation(fields: [oAuthClientId], references: [id])
+  oAuthClientId String
+  url           String
+  createdAt     DateTime    @default(now())
+  updatedAt     DateTime    @updatedAt
+}
+
+model oAuthJavascriptOrigin {
+  id            String      @id @default(uuid())
+  client        oAuthClient @relation(fields: [oAuthClientId], references: [id])
+  oAuthClientId String
+  uri           String
+  createdAt     DateTime    @default(now())
+  updatedAt     DateTime    @updatedAt
+}
+
+model oAuthResourceServer {
+  id         String             @id @default(uuid())
+  name       String
+  identifier String             @unique
+  scopes     oAuthCustomScope[]
+  createdAt  DateTime           @default(now())
+  updatedAt  DateTime           @updatedAt
+}
+
+model oAuthCustomScope {
+  id                    String              @id @default(uuid())
+  name                  String
+  description           String?
+  resourceServer        oAuthResourceServer @relation(fields: [oAuthResourceServerId], references: [id])
+  oAuthResourceServerId String
+  createdAt             DateTime            @default(now())
+  updatedAt             DateTime            @updatedAt
+}
+
+model oAuthAccessTokenScope {
+  accessToken        oAuthAccessToken @relation(fields: [oAuthAccessTokenId], references: [id])
+  scope              oAuthScope       @relation(fields: [oAuthScopeId], references: [id])
+  oAuthAccessTokenId String
+  oAuthScopeId       String
+  createdAt          DateTime         @default(now())
+
+  @@id([oAuthScopeId, oAuthAccessTokenId])
+}
+
+// Authentication
+
+model oAuthAccessToken {
+  id             String                  @id @default(uuid())
+  accessToken    String                  @default(uuid())
+  expirationDate DateTime
+  scopes         oAuthAccessTokenScope[]
+  user           User?                   @relation(fields: [userId], references: [id])
+  userId         String?
+  client         oAuthClient             @relation(fields: [oAuthClientId], references: [id])
+  oAuthClientId  String
+  createdAt      DateTime                @default(now())
+  updatedAt      DateTime                @updatedAt
+
+  @@unique([accessToken, oAuthClientId])
+  @@unique([userId, oAuthClientId])
+}
+
+model oAuthRefreshTokenScope {
+  refreshToken        oAuthRefreshToken @relation(fields: [oAuthRefreshTokenId], references: [id])
+  scope               oAuthScope        @relation(fields: [oAuthScopeId], references: [id])
+  oAuthRefreshTokenId String
+  oAuthScopeId        String
+  createdAt           DateTime          @default(now())
+
+  @@id([oAuthRefreshTokenId, oAuthScopeId])
+}
+
+model oAuthRefreshToken {
+  id             String                   @id @default(uuid())
+  refreshToken   String                   @default(uuid())
+  expirationDate DateTime
+  scopes         oAuthRefreshTokenScope[]
+  user           User?                    @relation(fields: [userId], references: [id])
+  userId         String?
+  client         oAuthClient              @relation(fields: [oAuthClientId], references: [id])
+  oAuthClientId  String
+  createdAt      DateTime                 @default(now())
+  updatedAt      DateTime                 @updatedAt
+
+  @@unique([refreshToken, oAuthClientId])
+  @@unique([userId, oAuthClientId])
+}
+
+model oAuthAuthorizationCodeScope {
+  authorizationCode        oAuthAuthorizationCode @relation(fields: [oAuthAuthorizationCodeId], references: [id])
+  scope                    oAuthScope             @relation(fields: [oAuthScopeId], references: [id])
+  oAuthAuthorizationCodeId String
+  oAuthScopeId             String
+  createdAt                DateTime               @default(now())
+
+  @@id([oAuthAuthorizationCodeId, oAuthScopeId])
+}
+
+model oAuthAuthorizationCode {
+  id             String                        @id @default(uuid())
+  code           String                        @default(uuid(16))
+  expirationDate DateTime
+  redirectURI    String
+  scopes         oAuthAuthorizationCodeScope[]
+  user           User                          @relation(fields: [userId], references: [id])
+  userId         String
+  client         oAuthClient                   @relation(fields: [oAuthClientId], references: [id])
+  oAuthClientId  String
+  createdAt      DateTime                      @default(now())
+  updatedAt      DateTime                      @updatedAt
+
+  @@unique([code, oAuthClientId])
+}
+
+enum Gender {
+  FEMALE
+  MALE
+  OTHER
+}
+
+enum SystemRole {
+  SUPER_ADMIN
+  ADMIN
+  DEVELOPER
+  USER
+}
+
+model Group {
+  id          String      @id @default(uuid())
+  name        String
+  description String?
+  users       UserGroup[]
+  createdAt   DateTime    @default(now())
+  updatedAt   DateTime    @updatedAt
+}
+
+model UserGroup {
+  user          User     @relation(fields: [systemUserId], references: [id])
+  group         Group    @relation(fields: [systemGroupId], references: [id])
+  systemUserId  String
+  systemGroupId String
+  createdAt     DateTime @default(now())
+
+  @@id([systemUserId, systemGroupId])
+}
+
+model User {
+  id                     String                   @id @default(uuid())
+  email                  String                   @unique
+  username               String                   @unique @default(cuid())
+  email_verified         Boolean                  @default(false)
+  email_verified_at      DateTime?
+  isDisabled             Boolean                  @default(false)
+  profile                Profile
+  groups                 UserGroup[]
+  password               String
+  passwordResets         PasswordReset[]
+  role                   SystemRole               @default(USER)
+  oAuthAccessToken       oAuthAccessToken[]
+  oAuthAuthorizationCode oAuthAuthorizationCode[]
+  oAuthRefreshToken      oAuthRefreshToken[]
+  devices                UserDevice[]
+  createdAt              DateTime                 @default(now())
+  updatedAt              DateTime                 @updatedAt
+}
+
+model Profile {
+  id           String    @id @default(uuid())
+  user         User      @relation(fields: [userId], references: [id])
+  userId       String
+  firstName    String?   @default("")
+  lastName     String?   @default("")
+  displayName  String?
+  birthdate    DateTime?
+  gender       Gender?
+  mobileNumber String?
+  image        String?   @default("")
+  address1     String?
+  address2     String?
+  createdAt    DateTime  @default(now())
+  updatedAt    DateTime  @updatedAt
+}
+
+model PasswordReset {
+  id        String   @id @default(uuid())
+  user      User     @relation(fields: [userId], references: [id])
+  userId    String
+  token     String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+model UserDevice {
+  id           String   @id @default(uuid())
+  user         User     @relation(fields: [userId], references: [id])
+  userId       String
+  deviceKey    String
+  name         String?
+  lastIP       String
+  isRemembered Boolean  @default(false)
+  SDK          String?
+  lastSeen     DateTime
+  createdAt    DateTime @default(now())
+  updatedAt    DateTime @updatedAt
+}
```


